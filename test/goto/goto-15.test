! TECO-64 test script: Branch using computed GOTO -- O !
! Expect: PASS !

0 UF

@^UA{
    UA                              !! Index value for GOTO
    UB                              !! Expected result
    QA @:=/index = %d -> /
    QA @O/tag1,tag2,,tag4/

           @^A/no tag/ -1 MB @O/end/

    !tag1! @^A/tag1  /  1 MB @O/end/
    !tag2! @^A/tag2  /  2 MB @O/end/
    !tag4! @^A/tag4  /  4 MB @O/end/

    !end! -1^T
}

@^UB{
    UC
    QC - QB "N @^A/ (fail)/ %F | @^A/ (pass)/ '
}

-1,0 MA
 1,1 MA
 2,2 MA
-1,3 MA
 4,4 MA
-1,5 MA

QF "E :@^A/PASS/ | :@^A/FAIL/ '

^C

