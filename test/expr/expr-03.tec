! TECO-64 test script: Test basic operators -- (misc.) !
! Expect: PASS !

0 UF            !! Count of failures

!! Macro to evaluate expression and compare with what we expected

@^UB
{
    UA                              !! Expected value
    :MA
    UB                              !! Calculated value
    QA-QB "E
        QB @=/^EQA = %6d (pass)/
    |
        QB @=/^EQA = %6d (fail)/
        %F
    '
}

@^UA{ 10        }     10 :MB        !! Simple value

@^UA{ +10       }     10 :MB        !! Unary plus

@^UA{ -10       }    -10 :MB        !! Unary minus

@^UA{ 10 + 3    }     13 :MB        !! Addition
@^UA{ 10 + +3   }     13 :MB        !! Addition
@^UA{ 10 + -3   }      7 :MB        !! Addition

@^UA{ 10 - 3    }      7 :MB        !! Subtraction
@^UA{ 10 - -3   }     13 :MB        !! Subtraction
@^UA{ -10 - 3   }    -13 :MB        !! Subtraction

@^UA{ 10 * 3    }     30 :MB        !! Multiplication
@^UA{ -10 * 3   }    -30 :MB        !! Multiplication
@^UA{ 10 * -3   }    -30 :MB        !! Multiplication

@^UA{ 10 / 3    }      3 :MB        !! Division, yielding quotient
@^UA{ -10 / 3   }     -3 :MB        !! Division, yielding quotient
@^UA{ 10 / -3   }     -3 :MB        !! Division, yielding quotient

@^UA{ 10 & 3    }      2 :MB        !! Logical AND

@^UA{ 10 # 3    }     11 :MB        !! Logical OR

@^UA{ 10^_      }    -11 :MB        !! 1's complement

QF "E
    :@^A/!PASS!/
|
    :@^A/!FAIL!/
'

