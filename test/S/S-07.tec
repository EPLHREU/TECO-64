! TECO-64 test script: Search, and preserve dot if failure !
! Commands: m,nS !
! Expect: PASS !

@I/1. abcdef
2. abcdef
3. abcdef
---------
4. uvwxyz
5. uvwxyz
6. uvwxyz
7. klmnop
/

0J 4L . UA

30, :@S/xyz/ "U ::^C '              ! Test: m,S !
30,3:@S/xyz/ "S ::^C '              ! Test: m,nS !

QA J

-30,1:@S/xyz/ "U ::^C '             ! Test: -m,1S !
-30,3:@S/xyz/ "S ::^C '             ! Test: -m,nS !

QA J

30, -:@S/abc/ "U ::^C '             ! Test: m,-S !
30,-1:@S/abc/ "U ::^C '             ! Test: m,-1S !
30,-4:@S/abc/ "S ::^C '             ! Test: m,-nS !

QA J

-30,-1:@S/abc/ "U ::^C '            ! Test: -m,-1S !
-30,-4:@S/abc/ "S ::^C '            ! Test: -m,-nS !

0 J

0,1:@S/klmnop/ "U ::^C '            ! Test: 0,1S !
0,2:@S/klmnop/ "S ::^C '            ! Test: 0,nS !

HK

:@^A/!PASS!/
