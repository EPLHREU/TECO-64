eiteco32$                                                       !     1: open indirect command file !
!TECO.TEC V40.00!                                               !     2: tag/comment !
[0                                                              !     3: push Q-register 0 !
0 U0                                                            !     4: store number in Q-register 0 !
0,0 X0                                                          !     5: copy buffer to Q-register 0 !
[1                                                              !     6: push Q-register 1 !
0 U1                                                            !     7: store number in Q-register 1 !
0,0 X1                                                          !     8: copy buffer to Q-register 1 !
[2                                                              !     9: push Q-register 2 !
0 U2                                                            !    10: store number in Q-register 2 !
0,0 X2                                                          !    11: copy buffer to Q-register 2 !
[3                                                              !    12: push Q-register 3 !
0 U3                                                            !    13: store number in Q-register 3 !
0,0 X3                                                          !    14: copy buffer to Q-register 3 !
[4                                                              !    15: push Q-register 4 !
0 U4                                                            !    16: store number in Q-register 4 !
0,0 X4                                                          !    17: copy buffer to Q-register 4 !
[5                                                              !    18: push Q-register 5 !
0 U5                                                            !    19: store number in Q-register 5 !
0,0 X5                                                          !    20: copy buffer to Q-register 5 !
[6                                                              !    21: push Q-register 6 !
0 U6                                                            !    22: store number in Q-register 6 !
0,0 X6                                                          !    23: copy buffer to Q-register 6 !
[7                                                              !    24: push Q-register 7 !
0 U7                                                            !    25: store number in Q-register 7 !
0,0 X7                                                          !    26: copy buffer to Q-register 7 !
[8                                                              !    27: push Q-register 8 !
0 U8                                                            !    28: store number in Q-register 8 !
0,0 X8                                                          !    29: copy buffer to Q-register 8 !
[9                                                              !    30: push Q-register 9 !
0 U9                                                            !    31: store number in Q-register 9 !
0,0 X9                                                          !    32: copy buffer to Q-register 9 !
[9                                                              !    33: push Q-register 9 !
0,0 X9                                                          !    34: copy buffer to Q-register 9 !
[0                                                              !    35: push Q-register 0 !
0,0 X0                                                          !    36: copy buffer to Q-register 0 !
[2                                                              !    37: push Q-register 2 !
0,0 X2                                                          !    38: copy buffer to Q-register 2 !
10 U0                                                           !    39: store number in Q-register 0 !
[0                                                              !    40: push Q-register 0 !
^D                                                              !    41: set input radix to decimal !
^X U0                                                           !    42: store number in Q-register 0 !
[0                                                              !    43: push Q-register 0 !
0 ^X                                                            !    44: set search mode flag !
ED U0                                                           !    45: store number in Q-register 0 !
[0                                                              !    46: push Q-register 0 !
ED&4 ED                                                         !    47: set edit level flag !
EU U0                                                           !    48: store number in Q-register 0 !
[0                                                              !    49: push Q-register 0 !
-1 EU                                                           !    50: set upper/lower case flag !
ES U0                                                           !    51: store number in Q-register 0 !
[0                                                              !    52: push Q-register 0 !
0 ES                                                            !    53: set search verification flag !
ET U0                                                           !    54: store number in Q-register 0 !
[0                                                              !    55: push Q-register 0 !
32768#32#8#1,0 ET                                               !    56: set type out control flag !
Q1 U0                                                           !    57: store number in Q-register 0 !
0 U1                                                            !    58: store number in Q-register 1 !
[1                                                              !    59: push Q-register 1 !
0,0 X1                                                          !    60: copy buffer to Q-register 1 !
-1EJ-4 "E                                                       !    61: if == 0 !
    QZ#Z :"E                                                    !    62: if == 0 !
        -1 ^X                                                   !    63: set search mode flag !
        G_                                                      !    64: copy Q-register _ to buffer !
        J                                                       !    65: jump !
        ::FSdcl  teco$TECO$                                     !    66: search and replace !
        "U                                                      !    67: if failure !
            H K                                                 !    68: delete lines !
        '                                                       !    69: endif !
        :S $                                                    !    70: search !
        J                                                       !    71: jump !
        0 ^X                                                    !    72: set search mode flag !
    '                                                           !    73: endif !
'                                                               !    74: endif !
Q0+1 "E                                                         !    75: if == 0 !
    32768 U0                                                    !    76: store number in Q-register 0 !
'                                                               !    77: endif !
32768 "E                                                        !    78: if == 0 !
    :EITECO$                                                    !    79: open indirect command file !
    "S                                                          !    80: if success !
        ]1                                                      !    81: pop Q-register 1 !
        Q0#32768 U1                                             !    82: store number in Q-register 1 !
        [1                                                      !    83: push Q-register 1 !
        J                                                       !    84: jump !
        ODONE$                                                  !    85: goto DONE !
    '                                                           !    86: endif !
'                                                               !    87: endif !
Z "E                                                            !    88: if == 0 !
    GZ                                                          !    89: copy Q-register Z to buffer !
    0,0 XZ                                                      !    90: copy buffer to Q-register Z !
'                                                               !    91: endif !
J                                                               !    92: jump !
::FS^ES$                                                        !    93: search and replace !
::FSTECO32$TECO$                                                !    94: search and replace !
Z J                                                             !    95: jump !
- :S^ES$                                                        !    96: search !
"S                                                              !    97: if success !
    .-Z "E                                                      !    98: if == 0 !
        FR$$                                                    !    99: delete and replace !
    '                                                           !   100: endif !
'                                                               !   101: endif !
Z "E                                                            !   102: if == 0 !
    ODONE$                                                      !   103: goto DONE !
'                                                               !   104: endif !
Q0&32767 U1                                                     !   105: store number in Q-register 1 !
0,0 X1                                                          !   106: copy buffer to Q-register 1 !
0,0 X9                                                          !   107: copy buffer to Q-register 9 !
J                                                               !   108: jump !
:FS^ES/NOI$                                                     !   109: search and replace !
"S                                                              !   110: if success !
    O/NOINI$                                                    !   111: goto /NOINI !
'                                                               !   112: endif !
J                                                               !   113: jump !
:FS/NOI$                                                        !   114: search and replace !
"S                                                              !   115: if success !
    !/NOINI!                                                    !   116: tag/comment !
    ::FSN$                                                      !   117: search and replace !
    "S                                                          !   118: if success !
        ::FSI$                                                  !   119: search and replace !
    '                                                           !   120: endif !
    ::FS^ES$                                                    !   121: search and replace !
    "S                                                          !   122: if success !
        0A "A                                                   !   123: if alpha !
            I $                                                 !   124: insert !
        '                                                       !   125: endif !
    '                                                           !   126: endif !
    Q1#4096 U1                                                  !   127: store number in Q-register 1 !
'                                                               !   128: endif !
Q1&4096 "E                                                      !   129: if == 0 !
    H X0                                                        !   130: copy buffer to Q-register 0 !
    H K                                                         !   131: delete lines !
    EP                                                          !   132: switch to secondary input stream !
    EA                                                          !   133: switch to secondary output stream !
    EF                                                          !   134: close output file !
    :EGINI$                                                     !   135: operating system function !
    "S                                                          !   136: if success !
        G*                                                      !   137: copy Q-register * to buffer !
        J                                                       !   138: jump !
        ::FS$$                                                  !   139: search and replace !
        "S                                                      !   140: if success !
            H X1                                                !   141: copy buffer to Q-register 1 !
            H K                                                 !   142: delete lines !
            :ER^EQ1$                                            !   143: open file for input !
            "S                                                  !   144: if success !
                Y                                               !   145: yank !
                H X1                                            !   146: copy buffer to Q-register 1 !
                H K                                             !   147: delete lines !
                EC                                              !   148: close input and output files !
                G1                                              !   149: copy Q-register 1 to buffer !
            |                                                   !   150: else !
                ^A%Can't find initialization file "^A           !   151: type out text !
                :G1                                             !   152: copy Q-register 1 to buffer !
                ^A"^M^J^A                                       !   153: type out text !
            '                                                   !   154: endif !
        '                                                       !   155: endif !
        0,0 X1                                                  !   156: copy buffer to Q-register 1 !
    |                                                           !   157: else !
        0,0 X1                                                  !   158: copy buffer to Q-register 1 !
        -1EJ-5*-1EJ-1024 "E                                     !   159: if == 0 !
            EN[]*.*$                                            !   160: set wildcard filespec !
            :EN$$                                               !   161: get next matching file !
            "S                                                  !   162: if success !
                G*                                              !   163: copy Q-register * to buffer !
                J                                               !   164: jump !
                S[$                                             !   165: search !
                R                                               !   166: move backward !
                0 K                                             !   167: delete lines !
                FS.$]$                                          !   168: search and replace !
                J                                               !   169: jump !
                S]$                                             !   170: search !
                0,. X1                                          !   171: copy buffer to Q-register 1 !
                H K                                             !   172: delete lines !
            '                                                   !   173: endif !
        '                                                       !   174: endif !
        :ER^EQ1TECO.INI$                                        !   175: open file for input !
        "S                                                      !   176: if success !
            Y                                                   !   177: yank !
            H X9                                                !   178: copy buffer to Q-register 9 !
            H K                                                 !   179: delete lines !
            EC                                                  !   180: close input and output files !
            G9                                                  !   181: copy Q-register 9 to buffer !
            0,0 X9                                              !   182: copy buffer to Q-register 9 !
        '                                                       !   183: endif !
    '                                                           !   184: endif !
    ER$$                                                        !   185: switch to primary input stream !
    EW$$                                                        !   186: switch to primary output stream !
    Z "N                                                        !   187: if <> 0 !
        Z J                                                     !   188: jump !
        . U0                                                    !   189: store number in Q-register 0 !
        G1                                                      !   190: copy Q-register 1 to buffer !
        I=$                                                     !   191: insert !
        G0                                                      !   192: copy Q-register 0 to buffer !
        Q0 J                                                    !   193: jump !
        Z X9                                                    !   194: copy buffer to Q-register 9 !
        Z K                                                     !   195: delete lines !
        ]1                                                      !   196: pop Q-register 1 !
        ]0                                                      !   197: pop Q-register 0 !
        Q0 ET                                                   !   198: set type out control flag !
        ]0                                                      !   199: pop Q-register 0 !
        Q0 ES                                                   !   200: set search verification flag !
        ]0                                                      !   201: pop Q-register 0 !
        Q0 EU                                                   !   202: set upper/lower case flag !
        ]0                                                      !   203: pop Q-register 0 !
        Q0 ED                                                   !   204: set edit level flag !
        ]0                                                      !   205: pop Q-register 0 !
        Q0 ^X                                                   !   206: set search mode flag !
        ]0                                                      !   207: pop Q-register 0 !
        Q0 ^R                                                   !   208: set input radix !
        ]2                                                      !   209: pop Q-register 2 !
        H X0                                                    !   210: copy buffer to Q-register 0 !
        H K                                                     !   211: delete lines !
        G9                                                      !   212: copy Q-register 9 to buffer !
        J                                                       !   213: jump !
        S=$                                                     !   214: search !
        0,.-1 X9                                                !   215: copy buffer to Q-register 9 !
        0,. K                                                   !   216: delete lines !
        M0                                                      !   217: execute Q-register 0 !
        +0 U9                                                   !   218: store number in Q-register 9 !
        0,0 X0                                                  !   219: copy buffer to Q-register 0 !
        [2                                                      !   220: push Q-register 2 !
        0,0 X2                                                  !   221: copy buffer to Q-register 2 !
        10 U0                                                   !   222: store number in Q-register 0 !
        [0                                                      !   223: push Q-register 0 !
        ^D                                                      !   224: set input radix to decimal !
        ^X U0                                                   !   225: store number in Q-register 0 !
        [0                                                      !   226: push Q-register 0 !
        0 ^X                                                    !   227: set search mode flag !
        ED U0                                                   !   228: store number in Q-register 0 !
        [0                                                      !   229: push Q-register 0 !
        ED&4 ED                                                 !   230: set edit level flag !
        EU U0                                                   !   231: store number in Q-register 0 !
        [0                                                      !   232: push Q-register 0 !
        -1 EU                                                   !   233: set upper/lower case flag !
        ES U0                                                   !   234: store number in Q-register 0 !
        [0                                                      !   235: push Q-register 0 !
        0 ES                                                    !   236: set search verification flag !
        ET U0                                                   !   237: store number in Q-register 0 !
        [0                                                      !   238: push Q-register 0 !
        32768#32#8#1,0 ET                                       !   239: set type out control flag !
        [1                                                      !   240: push Q-register 1 !
        G9                                                      !   241: copy Q-register 9 to buffer !
        ^Y X1                                                   !   242: copy buffer to Q-register 1 !
        ^Y K                                                    !   243: delete lines !
        0,0 X9                                                  !   244: copy buffer to Q-register 9 !
        Q9 U1                                                   !   245: store number in Q-register 1 !
        J                                                       !   246: jump !
        ::FS^ES$                                                !   247: search and replace !
        Z J                                                     !   248: jump !
        - :S^ES$                                                !   249: search !
        "S                                                      !   250: if success !
            .-Z "E                                              !   251: if == 0 !
                FR$$                                            !   252: delete and replace !
            '                                                   !   253: endif !
        '                                                       !   254: endif !
        Z "E                                                    !   255: if == 0 !
            OSCOPES$                                            !   256: goto SCOPES !
        '                                                       !   257: endif !
    |                                                           !   258: else !
        G0                                                      !   259: copy Q-register 0 to buffer !
    '                                                           !   260: endif !
'                                                               !   261: endif !
J                                                               !   262: jump !
:FS^ES/NOM$                                                     !   263: search and replace !
"S                                                              !   264: if success !
    O/NOMEMORY$                                                 !   265: goto /NOMEMORY !
'                                                               !   266: endif !
J                                                               !   267: jump !
:FS/NOM$                                                        !   268: search and replace !
"S                                                              !   269: if success !
    !/NOMEMORY!                                                 !   270: tag/comment !
    ::FSE$                                                      !   271: search and replace !
    "S                                                          !   272: if success !
        ::FSM$                                                  !   273: search and replace !
        "S                                                      !   274: if success !
            ::FSO$                                              !   275: search and replace !
            "S                                                  !   276: if success !
                ::FSR$                                          !   277: search and replace !
                "S                                              !   278: if success !
                    ::FSY$                                      !   279: search and replace !
                '                                               !   280: endif !
            '                                                   !   281: endif !
        '                                                       !   282: endif !
    '                                                           !   283: endif !
    ::FS^ES$                                                    !   284: search and replace !
    "S                                                          !   285: if success !
        0A "A                                                   !   286: if alpha !
            I $                                                 !   287: insert !
        '                                                       !   288: endif !
    '                                                           !   289: endif !
    Q1#4 U1                                                     !   290: store number in Q-register 1 !
'                                                               !   291: endif !
J                                                               !   292: jump !
:FS^ES/NOC$                                                     !   293: search and replace !
"S                                                              !   294: if success !
    O/NOCREATE$                                                 !   295: goto /NOCREATE !
'                                                               !   296: endif !
J                                                               !   297: jump !
:FS/NOC$                                                        !   298: search and replace !
"S                                                              !   299: if success !
    !/NOCREATE!                                                 !   300: tag/comment !
    ::FSR$                                                      !   301: search and replace !
    "S                                                          !   302: if success !
        ::FSE$                                                  !   303: search and replace !
        "S                                                      !   304: if success !
            ::FSA$                                              !   305: search and replace !
            "S                                                  !   306: if success !
                ::FST$                                          !   307: search and replace !
                "S                                              !   308: if success !
                    ::FSE$                                      !   309: search and replace !
                '                                               !   310: endif !
            '                                                   !   311: endif !
        '                                                       !   312: endif !
    '                                                           !   313: endif !
    ::FS^ES$                                                    !   314: search and replace !
    "S                                                          !   315: if success !
        0A "A                                                   !   316: if alpha !
            I $                                                 !   317: insert !
        '                                                       !   318: endif !
    '                                                           !   319: endif !
    Q1#256 U1                                                   !   320: store number in Q-register 1 !
'                                                               !   321: endif !
-1EJ-4 "N                                                       !   322: if <> 0 !
    J                                                           !   323: jump !
    ::STE$                                                      !   324: search !
    "S                                                          !   325: if success !
        <                                                       !   326: start of loop !
            0A "A                                               !   327: if alpha !
                C                                               !   328: move forward !
            >                                                   !   329: end of loop !
        '                                                       !   330: endif !
        ::S^ES@$                                                !   331: search !
        "S                                                      !   332: if success !
            0 K                                                 !   333: delete lines !
            IMUNG $                                             !   334: insert !
        '                                                       !   335: endif !
    '                                                           !   336: endif !
'                                                               !   337: endif !
J                                                               !   338: jump !
::FSMU$                                                         !   339: search and replace !
"S                                                              !   340: if success !
    <                                                           !   341: start of loop !
        0A "A                                                   !   342: if alpha !
            D                                                   !   343: delete characters !
        >                                                       !   344: end of loop !
    '                                                           !   345: endif !
    ::FS^ES$                                                    !   346: search and replace !
    -1EJ-5*-1EJ-1024 "E                                         !   347: if == 0 !
        J                                                       !   348: jump !
        ::FS"$                                                  !   349: search and replace !
        "S                                                      !   350: if success !
            ::FS^ES$                                            !   351: search and replace !
        '                                                       !   352: endif !
    '                                                           !   353: endif !
    Z U0                                                        !   354: store number in Q-register 0 !
    J                                                           !   355: jump !
    :S/$                                                        !   356: search !
    "S                                                          !   357: if success !
        R                                                       !   358: move backward !
        .-Q0 "L                                                 !   359: if < 0 !
            . U0                                                !   360: store number in Q-register 0 !
        '                                                       !   361: endif !
    '                                                           !   362: endif !
    J                                                           !   363: jump !
    :S^ES$                                                      !   364: search !
    "S                                                          !   365: if success !
        .-Q0 "L                                                 !   366: if < 0 !
            . U0                                                !   367: store number in Q-register 0 !
        '                                                       !   368: endif !
    '                                                           !   369: endif !
    J                                                           !   370: jump !
    <                                                           !   371: start of loop !
        S,$                                                     !   372: search !
        ;                                                       !   373: branch out of loop !
        . U1                                                    !   374: store number in Q-register 1 !
        Q1-1 J                                                  !   375: jump !
        - :S[$                                                  !   376: search !
        "S                                                      !   377: if success !
            :S]$                                                !   378: search !
            "S                                                  !   379: if success !
                .-Q1 "G                                         !   380: if > 0 !
                    F<                                          !   381: go to start of loop !
                '                                               !   382: endif !
            '                                                   !   383: endif !
        '                                                       !   384: endif !
        Q1-1 J                                                  !   385: jump !
        - :S<$                                                  !   386: search !
        "S                                                      !   387: if success !
            :S>$                                                !   388: search !
            "S                                                  !   389: if success !
                .-Q1 "G                                         !   390: if > 0 !
                    F<                                          !   391: go to start of loop !
                '                                               !   392: endif !
            '                                                   !   393: endif !
        '                                                       !   394: endif !
        Q1-1 J                                                  !   395: jump !
        - :S($                                                  !   396: search !
        "S                                                      !   397: if success !
            :S)$                                                !   398: search !
            "S                                                  !   399: if success !
                .-Q1 "G                                         !   400: if > 0 !
                    F<                                          !   401: go to start of loop !
                '                                               !   402: endif !
            '                                                   !   403: endif !
        '                                                       !   404: endif !
        Q1-1 J                                                  !   405: jump !
        .-1-Q0 "L                                               !   406: if < 0 !
            D                                                   !   407: delete characters !
            . U0                                                !   408: store number in Q-register 0 !
        '                                                       !   409: endif !
        0 ;                                                     !   410: branch out of loop !
    >                                                           !   411: end of loop !
    Q0 J                                                        !   412: jump !
    <                                                           !   413: start of loop !
        -. ;                                                    !   414: branch out of loop !
        -1A-32 "N                                               !   415: if <> 0 !
            -1A-9 "N                                            !   416: if <> 0 !
                0 ;                                             !   417: branch out of loop !
            '                                                   !   418: endif !
        '                                                       !   419: endif !
        - D                                                     !   420: delete characters !
    >                                                           !   421: end of loop !
    0,. X0                                                      !   422: copy buffer to Q-register 0 !
    ::S^ES$                                                     !   423: search !
    0,. K                                                       !   424: delete lines !
    Q0 :"E                                                      !   425: if == 0 !
        ^A?How can I MUNG nothing?^M^J^A                        !   426: type out text !
        ^C                                                      !   427: stop execution !
        ^C                                                      !   428: stop execution !
    '                                                           !   429: endif !
    EI^EQ0$                                                     !   430: open indirect command file !
    J                                                           !   431: jump !
    ODONE$                                                      !   432: goto DONE !
'                                                               !   433: endif !
J                                                               !   434: jump !
:FS^ES/GT$                                                      !   435: search and replace !
"S                                                              !   436: if success !
    O/GTEDIT$                                                   !   437: goto /GTEDIT !
'                                                               !   438: endif !
J                                                               !   439: jump !
:FS/GT$                                                         !   440: search and replace !
"S                                                              !   441: if success !
    !/GTEDIT!                                                   !   442: tag/comment !
    ::FSE$                                                      !   443: search and replace !
    "S                                                          !   444: if success !
        ::FSD$                                                  !   445: search and replace !
        "S                                                      !   446: if success !
            ::FSI$                                              !   447: search and replace !
            "S                                                  !   448: if success !
                ::FST$                                          !   449: search and replace !
            '                                                   !   450: endif !
        '                                                       !   451: endif !
    '                                                           !   452: endif !
    ::FS^ES$                                                    !   453: search and replace !
    "S                                                          !   454: if success !
        0A "A                                                   !   455: if alpha !
            I $                                                 !   456: insert !
        '                                                       !   457: endif !
    '                                                           !   458: endif !
    Q1#64 U1                                                    !   459: store number in Q-register 1 !
'                                                               !   460: endif !
J                                                               !   461: jump !
:FS^ES/VT$                                                      !   462: search and replace !
"S                                                              !   463: if success !
    O/VTEDIT$                                                   !   464: goto /VTEDIT !
'                                                               !   465: endif !
J                                                               !   466: jump !
:FS/VT$                                                         !   467: search and replace !
"S                                                              !   468: if success !
    !/VTEDIT!                                                   !   469: tag/comment !
    ::FSE$                                                      !   470: search and replace !
    "S                                                          !   471: if success !
        ::FSD$                                                  !   472: search and replace !
        "S                                                      !   473: if success !
            ::FSI$                                              !   474: search and replace !
            "S                                                  !   475: if success !
                ::FST$                                          !   476: search and replace !
            '                                                   !   477: endif !
        '                                                       !   478: endif !
    '                                                           !   479: endif !
    ::FS:H$                                                     !   480: search and replace !
    "S                                                          !   481: if success !
        ::FSO$                                                  !   482: search and replace !
        "S                                                      !   483: if success !
            ::FSL$                                              !   484: search and replace !
            "S                                                  !   485: if success !
                ::FSD$                                          !   486: search and replace !
            '                                                   !   487: endif !
        '                                                       !   488: endif !
        Q1#32 U1                                                !   489: store number in Q-register 1 !
    '                                                           !   490: endif !
    ::FS:S$                                                     !   491: search and replace !
    "S                                                          !   492: if success !
        ::FSE$                                                  !   493: search and replace !
        "S                                                      !   494: if success !
            ::FSE$                                              !   495: search and replace !
            "S                                                  !   496: if success !
                ::FSA$                                          !   497: search and replace !
                "S                                              !   498: if success !
                    ::FSL$                                      !   499: search and replace !
                    "S                                          !   500: if success !
                        ::FSL$                                  !   501: search and replace !
                    '                                           !   502: endif !
                '                                               !   503: endif !
            '                                                   !   504: endif !
        '                                                       !   505: endif !
        Q1#16 U1                                                !   506: store number in Q-register 1 !
    '                                                           !   507: endif !
    ::FS:H$                                                     !   508: search and replace !
    "S                                                          !   509: if success !
        ::FSO$                                                  !   510: search and replace !
        "S                                                      !   511: if success !
            ::FSL$                                              !   512: search and replace !
            "S                                                  !   513: if success !
                ::FSD$                                          !   514: search and replace !
            '                                                   !   515: endif !
        '                                                       !   516: endif !
        Q1#32 U1                                                !   517: store number in Q-register 1 !
    '                                                           !   518: endif !
    ::FS^ES$                                                    !   519: search and replace !
    "S                                                          !   520: if success !
        0A "A                                                   !   521: if alpha !
            I $                                                 !   522: insert !
        '                                                       !   523: endif !
    '                                                           !   524: endif !
    Q1#1 U1                                                     !   525: store number in Q-register 1 !
'                                                               !   526: endif !
J                                                               !   527: jump !
:FS^ES/SC$                                                      !   528: search and replace !
"S                                                              !   529: if success !
    O/SCROLL$                                                   !   530: goto /SCROLL !
'                                                               !   531: endif !
J                                                               !   532: jump !
:FS/SC$                                                         !   533: search and replace !
"S                                                              !   534: if success !
    !/SCROLL!                                                   !   535: tag/comment !
    ::FSR$                                                      !   536: search and replace !
    "S                                                          !   537: if success !
        ::FSO$                                                  !   538: search and replace !
        "S                                                      !   539: if success !
            ::FSL$                                              !   540: search and replace !
            "S                                                  !   541: if success !
                ::FSL$                                          !   542: search and replace !
            '                                                   !   543: endif !
        '                                                       !   544: endif !
    '                                                           !   545: endif !
    ::S:^ED$                                                    !   546: search !
    "S                                                          !   547: if success !
        R                                                       !   548: move backward !
        - D                                                     !   549: delete characters !
        \ U2                                                    !   550: store number in Q-register 2 !
        FR$$                                                    !   551: delete and replace !
    |                                                           !   552: else !
        0 U2                                                    !   553: store number in Q-register 2 !
    '                                                           !   554: endif !
    ::FS:S$                                                     !   555: search and replace !
    "S                                                          !   556: if success !
        ::FSE$                                                  !   557: search and replace !
        "S                                                      !   558: if success !
            ::FSE$                                              !   559: search and replace !
            "S                                                  !   560: if success !
                ::FSA$                                          !   561: search and replace !
                "S                                              !   562: if success !
                    ::FSL$                                      !   563: search and replace !
                    "S                                          !   564: if success !
                        ::FSL$                                  !   565: search and replace !
                    '                                           !   566: endif !
                '                                               !   567: endif !
            '                                                   !   568: endif !
        '                                                       !   569: endif !
        Q1#16 U1                                                !   570: store number in Q-register 1 !
    '                                                           !   571: endif !
    ::FS^ES$                                                    !   572: search and replace !
    "S                                                          !   573: if success !
        0A "A                                                   !   574: if alpha !
            I $                                                 !   575: insert !
        '                                                       !   576: endif !
    '                                                           !   577: endif !
    Q1#128 U1                                                   !   578: store number in Q-register 1 !
'                                                               !   579: endif !
J                                                               !   580: jump !
::FSTE$                                                         !   581: search and replace !
"S                                                              !   582: if success !
    <                                                           !   583: start of loop !
        0A "A                                                   !   584: if alpha !
            D                                                   !   585: delete characters !
        >                                                       !   586: end of loop !
    '                                                           !   587: endif !
    ::FS^ES$                                                    !   588: search and replace !
    J                                                           !   589: jump !
    :FS^ES/IN$                                                  !   590: search and replace !
    "S                                                          !   591: if success !
        O/INSPECT$                                              !   592: goto /INSPECT !
    '                                                           !   593: endif !
    J                                                           !   594: jump !
    :FS/IN$                                                     !   595: search and replace !
    "S                                                          !   596: if success !
        !/INSPECT!                                              !   597: tag/comment !
        ::FSS$                                                  !   598: search and replace !
        "S                                                      !   599: if success !
            ::FSP$                                              !   600: search and replace !
            "S                                                  !   601: if success !
                ::FSE$                                          !   602: search and replace !
                "S                                              !   603: if success !
                    ::FSC$                                      !   604: search and replace !
                    "S                                          !   605: if success !
                        ::FST$                                  !   606: search and replace !
                    '                                           !   607: endif !
                '                                               !   608: endif !
            '                                                   !   609: endif !
        '                                                       !   610: endif !
        ::FS^ES$                                                !   611: search and replace !
        "S                                                      !   612: if success !
            0A "A                                               !   613: if alpha !
                I $                                             !   614: insert !
            '                                                   !   615: endif !
        '                                                       !   616: endif !
        Q1#2 U1                                                 !   617: store number in Q-register 1 !
    '                                                           !   618: endif !
    J                                                           !   619: jump !
    :FS^ES/FI$                                                  !   620: search and replace !
    "S                                                          !   621: if success !
        O/FIND$                                                 !   622: goto /FIND !
    '                                                           !   623: endif !
    J                                                           !   624: jump !
    :FS/FI$                                                     !   625: search and replace !
    "S                                                          !   626: if success !
        !/FIND!                                                 !   627: tag/comment !
        ::FSN$                                                  !   628: search and replace !
        "S                                                      !   629: if success !
            ::FSD$                                              !   630: search and replace !
        '                                                       !   631: endif !
        ::FS^ES$                                                !   632: search and replace !
        "S                                                      !   633: if success !
            0A "A                                               !   634: if alpha !
                I $                                             !   635: insert !
            '                                                   !   636: endif !
        '                                                       !   637: endif !
        Q1#8 U1                                                 !   638: store number in Q-register 1 !
    '                                                           !   639: endif !
    J                                                           !   640: jump !
    <                                                           !   641: start of loop !
        .-Z ;                                                   !   642: branch out of loop !
        0A-9 "E                                                 !   643: if == 0 !
            D                                                   !   644: delete characters !
            F<                                                  !   645: go to start of loop !
        '                                                       !   646: endif !
        0A-32 "E                                                !   647: if == 0 !
            D                                                   !   648: delete characters !
            F<                                                  !   649: go to start of loop !
        '                                                       !   650: endif !
        C                                                       !   651: move forward !
        -1A-^^" "E                                              !   652: if == 0 !
            :S"$                                                !   653: search !
            "U                                                  !   654: if failure !
                Z J                                             !   655: jump !
            '                                                   !   656: endif !
        '                                                       !   657: endif !
    >                                                           !   658: end of loop !
    Q1&4#Z "E                                                   !   659: if == 0 !
        :EGMEM$                                                 !   660: operating system function !
        "S                                                      !   661: if success !
            G*                                                  !   662: copy Q-register * to buffer !
            J                                                   !   663: jump !
            ::FS$$                                              !   664: search and replace !
            "S                                                  !   665: if success !
                F|                                              !   666: go to else clause !
            '                                                   !   667: endif !
        |                                                       !   668: else !
            Z "E                                                !   669: if == 0 !
                Q1 :"E                                          !   670: if == 0 !
                    -1EJ-5*-1EJ-1024 "E                         !   671: if == 0 !
                        EN[]*.*$                                !   672: set wildcard filespec !
                        :EN$$                                   !   673: get next matching file !
                        "S                                      !   674: if success !
                            G*                                  !   675: copy Q-register * to buffer !
                            J                                   !   676: jump !
                            S[$                                 !   677: search !
                            R                                   !   678: move backward !
                            0 K                                 !   679: delete lines !
                            FS.$]$                              !   680: search and replace !
                            J                                   !   681: jump !
                            S]$                                 !   682: search !
                            0,. X1                              !   683: copy buffer to Q-register 1 !
                            H K                                 !   684: delete lines !
                        '                                       !   685: endif !
                    '                                           !   686: endif !
                '                                               !   687: endif !
                Q9 :"E                                          !   688: if == 0 !
                    0EJ+100 \                                   !   689: insert digit string !
                    J                                           !   690: jump !
                    D                                           !   691: delete characters !
                    G1                                          !   692: copy Q-register 1 to buffer !
                    ITECF$                                      !   693: insert !
                    Z J                                         !   694: jump !
                    I.TMP$                                      !   695: insert !
                    -1EJ-4 "E                                   !   696: if == 0 !
                        I</MODE:#3000$                          !   697: insert !
                    |                                           !   698: else !
                        -1EJ-7 "N                               !   699: if <> 0 !
                            I;1/-CR$                            !   700: insert !
                        '                                       !   701: endif !
                    '                                           !   702: endif !
                    H X9                                        !   703: copy buffer to Q-register 9 !
                    H K                                         !   704: delete lines !
                '                                               !   705: endif !
                G9                                              !   706: copy Q-register 9 to buffer !
            '                                                   !   707: endif !
            H X0                                                !   708: copy buffer to Q-register 0 !
            H K                                                 !   709: delete lines !
            EP                                                  !   710: switch to secondary input stream !
            EA                                                  !   711: switch to secondary output stream !
            EF                                                  !   712: close output file !
            :ER^EQ0$                                            !   713: open file for input !
            "S                                                  !   714: if success !
                Y                                               !   715: yank !
                L                                               !   716: move forward/backward lines !
                . "N                                            !   717: if <> 0 !
                    -1A-10 "E                                   !   718: if == 0 !
                        - D                                     !   719: delete characters !
                    '                                           !   720: endif !
                '                                               !   721: endif !
                . "N                                            !   722: if <> 0 !
                    -1A-13 "E                                   !   723: if == 0 !
                        - D                                     !   724: delete characters !
                    '                                           !   725: endif !
                '                                               !   726: endif !
                Z K                                             !   727: delete lines !
                H X0                                            !   728: copy buffer to Q-register 0 !
                H K                                             !   729: delete lines !
                EC                                              !   730: close input and output files !
                G0                                              !   731: copy Q-register 0 to buffer !
            '                                                   !   732: endif !
            ER$$                                                !   733: switch to primary input stream !
            EW$$                                                !   734: switch to primary output stream !
            0,0 X0                                              !   735: copy buffer to Q-register 0 !
        '                                                       !   736: endif !
        J                                                       !   737: jump !
        <                                                       !   738: start of loop !
            .-Z ;                                               !   739: branch out of loop !
            0A-9 "E                                             !   740: if == 0 !
                D                                               !   741: delete characters !
                F<                                              !   742: go to start of loop !
            '                                                   !   743: endif !
            0A-32 "E                                            !   744: if == 0 !
                D                                               !   745: delete characters !
                F<                                              !   746: go to start of loop !
            '                                                   !   747: endif !
            C                                                   !   748: move forward !
            -1A-^^" "E                                          !   749: if == 0 !
                :S"$                                            !   750: search !
                "U                                              !   751: if failure !
                    Z J                                         !   752: jump !
                '                                               !   753: endif !
            '                                                   !   754: endif !
        >                                                       !   755: end of loop !
        J                                                       !   756: jump !
        :FS/FI$                                                 !   757: search and replace !
        "S                                                      !   758: if success !
            ::FSN$                                              !   759: search and replace !
            "S                                                  !   760: if success !
                ::FSD$                                          !   761: search and replace !
            '                                                   !   762: endif !
            Q1#8192#8 U1                                        !   763: store number in Q-register 1 !
        '                                                       !   764: endif !
        Z "N                                                    !   765: if <> 0 !
            Q1#32768#16384 U1                                   !   766: store number in Q-register 1 !
        '                                                       !   767: endif !
    '                                                           !   768: endif !
    Q1&16384 "N                                                 !   769: if <> 0 !
        Q1&2 "E                                                 !   770: if == 0 !
            ^AEdi^A                                             !   771: type out text !
        |                                                       !   772: else !
            ^AInspec^A                                          !   773: type out text !
        '                                                       !   774: endif !
        ^Ating file "^A                                         !   775: type out text !
        H T                                                     !   776: print text !
        ^A"^M^J^A                                               !   777: type out text !
    '                                                           !   778: endif !
    Z "E                                                        !   779: if == 0 !
        Q1&2 "E                                                 !   780: if == 0 !
            OSCOPES$                                            !   781: goto SCOPES !
        '                                                       !   782: endif !
        ^A?How can I inspect nothing?^M^J^A                     !   783: type out text !
        ^C                                                      !   784: stop execution !
        ^C                                                      !   785: stop execution !
    '                                                           !   786: endif !
    Q1&2 "E                                                     !   787: if == 0 !
        J                                                       !   788: jump !
        :S=$                                                    !   789: search !
        "S                                                      !   790: if success !
            0,.-1 X0                                            !   791: copy buffer to Q-register 0 !
            0,. K                                               !   792: delete lines !
            Z U0                                                !   793: store number in Q-register 0 !
            H X2                                                !   794: copy buffer to Q-register 2 !
            H K                                                 !   795: delete lines !
            Q2 :"N                                              !   796: if <> 0 !
                :ER^EQ2$                                        !   797: open file for input !
                "U                                              !   798: if failure !
                    G2                                          !   799: copy Q-register 2 to buffer !
                    H X0                                        !   800: copy buffer to Q-register 0 !
                    H K                                         !   801: delete lines !
                    ONOTFND$                                    !   802: goto NOTFND !
                '                                               !   803: endif !
            '                                                   !   804: endif !
            Q0 :"N                                              !   805: if <> 0 !
                EW^EQ0$                                         !   806: open file for output !
            '                                                   !   807: endif !
            Q0 "N                                               !   808: if <> 0 !
                Q1#2048 U1                                      !   809: store number in Q-register 1 !
            '                                                   !   810: endif !
            OREMEM$                                             !   811: goto REMEM !
        '                                                       !   812: endif !
    '                                                           !   813: endif !
    H X0                                                        !   814: copy buffer to Q-register 0 !
    H K                                                         !   815: delete lines !
    Q1&2 "E                                                     !   816: if == 0 !
        :EB^EQ0$                                                !   817: open file for backup !
        "S                                                      !   818: if success !
            Q1#2048 U1                                          !   819: store number in Q-register 1 !
            OREMEM$                                             !   820: goto REMEM !
        '                                                       !   821: endif !
        Q1&256 "N                                               !   822: if <> 0 !
            Q1&32768 "E                                         !   823: if == 0 !
                ONOTFND$                                        !   824: goto NOTFND !
            '                                                   !   825: endif !
        '                                                       !   826: endif !
        ^A%Can't find file "^A                                  !   827: type out text !
        :G0                                                     !   828: copy Q-register 0 to buffer !
        ^A"^M^J^A                                               !   829: type out text !
        Q1&32768 "E                                             !   830: if == 0 !
            ^A%Creating new file^M^J^A                          !   831: type out text !
            OCREATE$                                            !   832: goto CREATE !
        |                                                       !   833: else !
            ^A%Ignoring TECO's memory^M^J^A                     !   834: type out text !
            Q1#8192 U1                                          !   835: store number in Q-register 1 !
            0,0 X0                                              !   836: copy buffer to Q-register 0 !
            OREMEM$                                             !   837: goto REMEM !
        '                                                       !   838: endif !
    '                                                           !   839: endif !
    :ER^EQ0$                                                    !   840: open file for input !
    "S                                                          !   841: if success !
        Q1#2048 U1                                              !   842: store number in Q-register 1 !
        OSCOPES$                                                !   843: goto SCOPES !
    '                                                           !   844: endif !
    !NOTFND!                                                    !   845: tag/comment !
    ^A?Can't find file "^A                                      !   846: type out text !
    :G0                                                         !   847: copy Q-register 0 to buffer !
    ^A"?^M^J^A                                                  !   848: type out text !
    ^C                                                          !   849: stop execution !
    ^C                                                          !   850: stop execution !
'                                                               !   851: endif !
J                                                               !   852: jump !
::FSMA$                                                         !   853: search and replace !
"S                                                              !   854: if success !
    <                                                           !   855: start of loop !
        0A "A                                                   !   856: if alpha !
            D                                                   !   857: delete characters !
        >                                                       !   858: end of loop !
    '                                                           !   859: endif !
    ::FS^ES$                                                    !   860: search and replace !
    J                                                           !   861: jump !
    <                                                           !   862: start of loop !
        .-Z ;                                                   !   863: branch out of loop !
        0A-9 "E                                                 !   864: if == 0 !
            D                                                   !   865: delete characters !
            F<                                                  !   866: go to start of loop !
        '                                                       !   867: endif !
        0A-32 "E                                                !   868: if == 0 !
            D                                                   !   869: delete characters !
            F<                                                  !   870: go to start of loop !
        '                                                       !   871: endif !
        C                                                       !   872: move forward !
        -1A-^^" "E                                              !   873: if == 0 !
            :S"$                                                !   874: search !
            "U                                                  !   875: if failure !
                Z J                                             !   876: jump !
            '                                                   !   877: endif !
        '                                                       !   878: endif !
    >                                                           !   879: end of loop !
    Z "E                                                        !   880: if == 0 !
        ^A?How can I MAKE nothing?^M^J^A                        !   881: type out text !
        ^C                                                      !   882: stop execution !
        ^C                                                      !   883: stop execution !
    '                                                           !   884: endif !
    Z-4 "E                                                      !   885: if == 0 !
        J                                                       !   886: jump !
        ::SLOVE$                                                !   887: search !
        "S                                                      !   888: if success !
            ^ANot war?^M^J^A                                    !   889: type out text !
        '                                                       !   890: endif !
    '                                                           !   891: endif !
    H X0                                                        !   892: copy buffer to Q-register 0 !
    H K                                                         !   893: delete lines !
    !CREATE!                                                    !   894: tag/comment !
    EW^EQ0$                                                     !   895: open file for output !
    OREMEM$                                                     !   896: goto REMEM !
'                                                               !   897: endif !
^A%Unrecognized command "^A                                     !   898: type out text !
H T                                                             !   899: print text !
H K                                                             !   900: delete lines !
^A"^M^J^A                                                       !   901: type out text !
OSCOPES$                                                        !   902: goto SCOPES !
!REMEM!                                                         !   903: tag/comment !
Q1&8192 "N                                                      !   904: if <> 0 !
    OWRITE$                                                     !   905: goto WRITE !
'                                                               !   906: endif !
Q1&(32768#4) "N                                                 !   907: if <> 0 !
    OSCOPES$                                                    !   908: goto SCOPES !
'                                                               !   909: endif !
Q0 :"E                                                          !   910: if == 0 !
    OSCOPES$                                                    !   911: goto SCOPES !
'                                                               !   912: endif !
!WRITE!                                                         !   913: tag/comment !
:EGMEM$                                                         !   914: operating system function !
"S                                                              !   915: if success !
    Z J                                                         !   916: jump !
    G*                                                          !   917: copy Q-register * to buffer !
    ^S C                                                        !   918: move forward !
    ::FS$$                                                      !   919: search and replace !
    "U                                                          !   920: if failure !
        Z K                                                     !   921: delete lines !
        :EGMEM ^EQ0$                                            !   922: operating system function !
    |                                                           !   923: else !
        Z X9                                                    !   924: copy buffer to Q-register 9 !
        Z K                                                     !   925: delete lines !
        F|                                                      !   926: go to else clause !
    '                                                           !   927: endif !
|                                                               !   928: else !
    Q9 :"E                                                      !   929: if == 0 !
        Q1 :"E                                                  !   930: if == 0 !
            -1EJ-5*-1EJ-1024 "E                                 !   931: if == 0 !
                EN[]*.*$                                        !   932: set wildcard filespec !
                :EN$$                                           !   933: get next matching file !
                "S                                              !   934: if success !
                    Z J                                         !   935: jump !
                    . U0                                        !   936: store number in Q-register 0 !
                    G*                                          !   937: copy Q-register * to buffer !
                    Q0 J                                        !   938: jump !
                    S[$                                         !   939: search !
                    R                                           !   940: move backward !
                    Q0,. K                                      !   941: delete lines !
                    FS.$]$                                      !   942: search and replace !
                    Q0 J                                        !   943: jump !
                    S]$                                         !   944: search !
                    Q0,. X1                                     !   945: copy buffer to Q-register 1 !
                    Q0,Z K                                      !   946: delete lines !
                '                                               !   947: endif !
            '                                                   !   948: endif !
        '                                                       !   949: endif !
        G1                                                      !   950: copy Q-register 1 to buffer !
        ^Y X9                                                   !   951: copy buffer to Q-register 9 !
        ^Y K                                                    !   952: delete lines !
        :^U9TECF$                                               !   953: append text to Q-register 9 !
        0EJ+100 \                                               !   954: insert digit string !
        .-2,. :X9                                               !   955: append buffer to Q-register 9 !
        -3 D                                                    !   956: delete characters !
        :^U9.TMP$                                               !   957: append text to Q-register 9 !
        -1EJ-4 "E                                               !   958: if == 0 !
            :^U9</MODE:#3000$                                   !   959: append text to Q-register 9 !
        |                                                       !   960: else !
            -1EJ-7 "N                                           !   961: if <> 0 !
                :^U9;1/-CR$                                     !   962: append text to Q-register 9 !
            '                                                   !   963: endif !
        '                                                       !   964: endif !
    '                                                           !   965: endif !
    EA                                                          !   966: switch to secondary output stream !
    :EW^EQ9$                                                    !   967: open file for output !
    "S                                                          !   968: if success !
        G0                                                      !   969: copy Q-register 0 to buffer !
        ^Y P                                                    !   970: page !
        ^Y K                                                    !   971: delete lines !
    '                                                           !   972: endif !
    EF                                                          !   973: close output file !
    EW$$                                                        !   974: switch to primary output stream !
'                                                               !   975: endif !
!SCOPES!                                                        !   976: tag/comment !
Q1&64 "N                                                        !   977: if <> 0 !
    ET&1024 "E                                                  !   978: if == 0 !
        ^A%You don't have a refresh scope^M^J^A                 !   979: type out text !
        Q1#64-64 U1                                             !   980: store number in Q-register 1 !
    '                                                           !   981: endif !
'                                                               !   982: endif !
Q1&1 "N                                                         !   983: if <> 0 !
    ET&512 "E                                                   !   984: if == 0 !
        ^A%Your terminal is not an interactive scope^M^J^A      !   985: type out text !
        Q1#1-1 U1                                               !   986: store number in Q-register 1 !
    |                                                           !   987: else !
        Q1&16 "N                                                !   988: if <> 0 !
        '                                                       !   989: endif !
        Q1&32 "N                                                !   990: if <> 0 !
        '                                                       !   991: endif !
    '                                                           !   992: endif !
'                                                               !   993: endif !
Q1&(64#1) "E                                                    !   994: if == 0 !
    OYANK$                                                      !   995: goto YANK !
'                                                               !   996: endif !
Q1&64 "N                                                        !   997: if <> 0 !
    ^U9GTE$                                                     !   998: copy text to Q-register 9 !
|                                                               !   999: else !
    ^U9VTE$                                                     !  1000: copy text to Q-register 9 !
'                                                               !  1001: endif !
:EG^EQ9$                                                        !  1002: operating system function !
"S                                                              !  1003: if success !
    ^U1$$                                                       !  1004: copy text to Q-register 1 !
    G*                                                          !  1005: copy Q-register * to buffer !
    ^Y X9                                                       !  1006: copy buffer to Q-register 9 !
    ^Y K                                                        !  1007: delete lines !
|                                                               !  1008: else !
    :^U9DIT$                                                    !  1009: append text to Q-register 9 !
    Q1 :"E                                                      !  1010: if == 0 !
        -1EJ-5*-1EJ-1024 "E                                     !  1011: if == 0 !
            EN[]*.*$                                            !  1012: set wildcard filespec !
            :EN$$                                               !  1013: get next matching file !
            "S                                                  !  1014: if success !
                Z J                                             !  1015: jump !
                . U0                                            !  1016: store number in Q-register 0 !
                G*                                              !  1017: copy Q-register * to buffer !
                Q0 J                                            !  1018: jump !
                S[$                                             !  1019: search !
                R                                               !  1020: move backward !
                Q0,. K                                          !  1021: delete lines !
                FS.$]$                                          !  1022: search and replace !
                Q0 J                                            !  1023: jump !
                S]$                                             !  1024: search !
                Q0,. X1                                         !  1025: copy buffer to Q-register 1 !
                Q0,Z K                                          !  1026: delete lines !
            '                                                   !  1027: endif !
        '                                                       !  1028: endif !
    '                                                           !  1029: endif !
'                                                               !  1030: endif !
Q9 :"N                                                          !  1031: if <> 0 !
    :EI^EQ1^EQ9$                                                !  1032: open indirect command file !
    "S                                                          !  1033: if success !
        Q1#2048-2048 U1                                         !  1034: store number in Q-register 1 !
        OYANK$                                                  !  1035: goto YANK !
    '                                                           !  1036: endif !
'                                                               !  1037: endif !
:EGLIB$                                                         !  1038: operating system function !
"S                                                              !  1039: if success !
    G*                                                          !  1040: copy Q-register * to buffer !
    ^Y X1                                                       !  1041: copy buffer to Q-register 1 !
    ^Y K                                                        !  1042: delete lines !
|                                                               !  1043: else !
    ^U1$$                                                       !  1044: copy text to Q-register 1 !
'                                                               !  1045: endif !
Q1 :"E                                                          !  1046: if == 0 !
    ^U1LB:[1,2]$                                                !  1047: copy text to Q-register 1 !
    -1EJ-7 "E                                                   !  1048: if == 0 !
        ^U1SY:$                                                 !  1049: copy text to Q-register 1 !
    '                                                           !  1050: endif !
    -1EJ-5*-1EJ-1024 "E                                         !  1051: if == 0 !
        ^U1SYS$LIBRARY:$                                        !  1052: copy text to Q-register 1 !
    '                                                           !  1053: endif !
    -1EJ-4 "E                                                   !  1054: if == 0 !
        ^U1$$                                                   !  1055: copy text to Q-register 1 !
    '                                                           !  1056: endif !
'                                                               !  1057: endif !
Q1&64 "N                                                        !  1058: if <> 0 !
    ^U9GTEDIT$                                                  !  1059: copy text to Q-register 9 !
|                                                               !  1060: else !
    ^U9VTEDIT$                                                  !  1061: copy text to Q-register 9 !
'                                                               !  1062: endif !
Q1 :"N                                                          !  1063: if <> 0 !
    :EI^EQ1^EQ9$                                                !  1064: open indirect command file !
    "S                                                          !  1065: if success !
        Q1#2048-2048 U1                                         !  1066: store number in Q-register 1 !
        OYANK$                                                  !  1067: goto YANK !
    '                                                           !  1068: endif !
'                                                               !  1069: endif !
^A%The ^A                                                       !  1070: type out text !
:G9                                                             !  1071: copy Q-register 9 to buffer !
^A macro is not available^M^J^A                                 !  1072: type out text !
!YANK!                                                          !  1073: tag/comment !
Q1&2048 "N                                                      !  1074: if <> 0 !
    Y                                                           !  1075: yank !
'                                                               !  1076: endif !
J                                                               !  1077: jump !
Q1&8 "N                                                         !  1078: if <> 0 !
    ^AFinding position marker...^M^J^A                          !  1079: type out text !
    EW$$                                                        !  1080: switch to primary output stream !
    G*                                                          !  1081: copy Q-register * to buffer !
    ^Y X0                                                       !  1082: copy buffer to Q-register 0 !
    ^Y K                                                        !  1083: delete lines !
    -1 ^X                                                       !  1084: set search mode flag !
    Q0 :"N                                                      !  1085: if <> 0 !
        :FN~~/\~~^M^J$                                          !  1086: non-stop search and replace !
        U0                                                      !  1087: store number in Q-register 0 !
    |                                                           !  1088: else !
        :F_~~/\~~^M^J$                                          !  1089: non-stop search and replace !
        U0                                                      !  1090: store number in Q-register 0 !
    '                                                           !  1091: endif !
    0 ^X                                                        !  1092: set search mode flag !
    Q0 "U                                                       !  1093: if failure !
        ^A?Position marker not found?^M^J^A                     !  1094: type out text !
        ^C                                                      !  1095: stop execution !
        ^C                                                      !  1096: stop execution !
    '                                                           !  1097: endif !
'                                                               !  1098: endif !
Q1&128 "N                                                       !  1099: if <> 0 !
    ET&512 "E                                                   !  1100: if == 0 !
        ^A%Your terminal is not an interactive scope^M^J^A      !  1101: type out text !
    |                                                           !  1102: else !
        Q2 "E                                                   !  1103: if == 0 !
            2:W/4 :U2                                           !  1104: store number in Q-register 2 !
        '                                                       !  1105: endif !
        Q1&16 "N                                                !  1106: if <> 0 !
        '                                                       !  1107: endif !
        Q1&32 "N                                                !  1108: if <> 0 !
        '                                                       !  1109: endif !
        Q2,7:W-Q2 :"N                                           !  1110: if <> 0 !
            ^A%Your terminal doesn't support scrolling^M^J^A    !  1111: type out text !
        |                                                       !  1112: else !
            -1 EV                                               !  1113: set edit verify flag !
        '                                                       !  1114: endif !
    '                                                           !  1115: endif !
'                                                               !  1116: endif !
!DONE!                                                          !  1117: tag/comment !
]1                                                              !  1118: pop Q-register 1 !
]0                                                              !  1119: pop Q-register 0 !
Q0 ET                                                           !  1120: set type out control flag !
]0                                                              !  1121: pop Q-register 0 !
Q0 ES                                                           !  1122: set search verification flag !
]0                                                              !  1123: pop Q-register 0 !
Q0 EU                                                           !  1124: set upper/lower case flag !
]0                                                              !  1125: pop Q-register 0 !
Q0 ED                                                           !  1126: set edit level flag !
]0                                                              !  1127: pop Q-register 0 !
Q0 ^X                                                           !  1128: set search mode flag !
]0                                                              !  1129: pop Q-register 0 !
Q0 ^R                                                           !  1130: set input radix !
]2                                                              !  1131: pop Q-register 2 !
]0                                                              !  1132: pop Q-register 0 !
]9                                                              !  1133: pop Q-register 9 !
0,0 XY                                                          !  1134: copy buffer to Q-register Y !
]9                                                              !  1135: pop Q-register 9 !
]8                                                              !  1136: pop Q-register 8 !
]7                                                              !  1137: pop Q-register 7 !
]6                                                              !  1138: pop Q-register 6 !
]5                                                              !  1139: pop Q-register 5 !
]4                                                              !  1140: pop Q-register 4 !
]3                                                              !  1141: pop Q-register 3 !
]2                                                              !  1142: pop Q-register 2 !
]1                                                              !  1143: pop Q-register 1 !
]0                                                              !  1144: pop Q-register 0 !
ex                                                              !  1145: exit !
